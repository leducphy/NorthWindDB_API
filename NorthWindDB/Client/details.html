<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Details</title>
</head>

<body>

    <a class="mb-3 btn btn-primary" href="index.html">Back to List</a>
    <table class="table table-hover w-50">
        <tr>
            <th>Product Id</th>
            <td id="productId"></td>
        </tr>
        <tr>
            <th>Product Name</th>
            <td id="productName"></td>
        </tr>
        <tr>
            <th>Quantity Per Unit</th>
            <td id="quantityPerUnit"></td>
        </tr>
        <tr>
            <th>Unit Price</th>
            <td id="unitPrice"></td>
        </tr>
        <tr>
            <th>Units In Stock</th>
            <td id="unitsInStock"></td>
        </tr>
        <tr>
            <th>Units On Order</th>
            <td id="unitsOnOrder"></td>
        </tr>
        <tr>
            <th>Reorder Level</th>
            <td id="reorderLevel"></td>
        </tr>
        <tr>
            <th>Discontinued</th>
            <td id="discontinued"></td>
        </tr>
        <tr>
            <th>Category Name</th>
            <td id="categoryName"></td>
        </tr>
    </table>

    <script>
        let product;
        var urlParams = new URLSearchParams(window.location.search);
        var productId = urlParams.get('productId');

        function fetchData() {
            fetch(`http://localhost:5228/api/Products/${productId}`)
                .then(response => response.json())
                .then(data => {
                    product = data;
                    fillProduct();
                })
                .catch(error => {
                    console.error('Error fetching product data:', error);
                });
        }

        function fillProduct() {
            document.getElementById("productId").textContent = product.productId;
            document.getElementById("productName").textContent = product.productName;
            document.getElementById("quantityPerUnit").textContent = product.quantityPerUnit;
            document.getElementById("unitPrice").textContent = product.unitPrice;
            document.getElementById("unitsInStock").textContent = product.unitsInStock;
            document.getElementById("unitsOnOrder").textContent = product.unitsOnOrder;
            document.getElementById("reorderLevel").textContent = product.reorderLevel;
            document.getElementById("discontinued").textContent = product.discontinued;
            document.getElementById("categoryName").textContent = product.categoryName;
        }

        document.addEventListener("DOMContentLoaded", fetchData);
    </script>

</body>

</html>